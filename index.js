const axios = require('axios');
const cheerio = require('cheerio');

const artistUrls = ["https://11thdimensionaudio.bandcamp.com","https://20minuteloop.bandcamp.com","https://21stcenturyexpress.bandcamp.com","https://3rdd.bandcamp.com","https://4nform.bandcamp.com","https://90bpmsk.bandcamp.com","https://aarni.bandcamp.com","https://abovetheclouds.bandcamp.com","https://acresofdiamonds.bandcamp.com","https://adeussenhorf.bandcamp.com","https://agsystems.bandcamp.com","https://aidanhawken.bandcamp.com","https://aidanknight.bandcamp.com","https://alef1.bandcamp.com","https://alexbyrd.bandcamp.com","https://allcity.bandcamp.com","https://alliance.bandcamp.com","https://amandapalmer.bandcamp.com","https://ambientdinosaur.bandcamp.com","https://ambientworldsmusiclibrary.bandcamp.com","https://ameone.bandcamp.com","https://americandrag.bandcamp.com","https://ampacific.bandcamp.com","https://anchordown.bandcamp.com","https://angelikaexpress.bandcamp.com","https://angryboy.bandcamp.com","https://anthom.bandcamp.com","https://aphilliard.bandcamp.com","https://applerabbits.bandcamp.com","https://arcadio.bandcamp.com","https://archiveofeverything.bandcamp.com","https://arcticdub.bandcamp.com","https://atomck.bandcamp.com","https://atomictom.bandcamp.com","https://audio1.bandcamp.com","https://audiograves.bandcamp.com","https://audiooutsend.bandcamp.com","https://augustelliot.bandcamp.com","https://aux78.bandcamp.com","https://awake.bandcamp.com","https://bandak2.bandcamp.com","https://bartonpatrick.bandcamp.com","https://battlecircus.bandcamp.com","https://beautifulidiot.bandcamp.com","https://bedroomcommunity.bandcamp.com","https://beefandnougat.bandcamp.com","https://benbruce.bandcamp.com","https://benevolentsun.bandcamp.com","https://benfrost.bandcamp.com","https://birdatemydonut.bandcamp.com","https://bjarneo.bandcamp.com","https://blackbearsaloon.bandcamp.com","https://blacksnakmusic.bandcamp.com","https://bmol.bandcamp.com","https://bobritchie.bandcamp.com","https://bookofpi.bandcamp.com","https://bradsucks.bandcamp.com","https://brendanodonnell.bandcamp.com","https://brentlandon.bandcamp.com","https://bucketsof.bandcamp.com","https://bucketsofbile.bandcamp.com","https://bukue.bandcamp.com","https://bumbalo.bandcamp.com","https://busbee.bandcamp.com","https://cahoneydrops.bandcamp.com","https://capgbeats.bandcamp.com","https://captainautomatic.bandcamp.com","https://carnageandcreation.bandcamp.com","https://caseyschultheis.bandcamp.com","https://castel.bandcamp.com","https://ccino.bandcamp.com","https://cementimental.bandcamp.com","https://chairs.bandcamp.com","https://chaotic.bandcamp.com","https://chilistu.bandcamp.com","https://chriscookz.bandcamp.com","https://chrisklepac.bandcamp.com","https://christianbloch.bandcamp.com","https://christopherjoel.bandcamp.com","https://circuit23.bandcamp.com","https://clintdelgado.bandcamp.com","https://comfort.bandcamp.com","https://conceptualrecords.bandcamp.com","https://cornerstreetlight.bandcamp.com","https://cornwallchee.bandcamp.com","https://cosmicrays.bandcamp.com","https://couerdepigeon.bandcamp.com","https://crazycatlady.bandcamp.com","https://ctsnr.bandcamp.com","https://daimyo.bandcamp.com","https://damsels.bandcamp.com","https://danielgray.bandcamp.com","https://darkdiscoclub.bandcamp.com","https://davebeegle.bandcamp.com","https://daveblack.bandcamp.com","https://davemakes.bandcamp.com","https://daveniles.bandcamp.com","https://davidbaron.bandcamp.com","https://deergear.bandcamp.com","https://deloreangrey.bandcamp.com","https://delthefunkyhomosapien.bandcamp.com","https://deshead.bandcamp.com","https://dholl.bandcamp.com","https://diegosumbrella.bandcamp.com","https://diligentz.bandcamp.com","https://djkumpf.bandcamp.com","https://djparadiddle.bandcamp.com","https://djpd.bandcamp.com","https://djshanty.bandcamp.com","https://dodat.bandcamp.com","https://domeslice.bandcamp.com","https://doramarkus.bandcamp.com","https://dosiadidthebeat.bandcamp.com","https://dplex.bandcamp.com","https://dredi.bandcamp.com","https://drewbrown.bandcamp.com","https://drie.bandcamp.com","https://dropjoy.bandcamp.com","https://drumfire.bandcamp.com","https://eachpassingday.bandcamp.com","https://ecgroovesociety.bandcamp.com","https://eliot.bandcamp.com","https://empiresocial.bandcamp.com","https://errelevent.bandcamp.com","https://escapeact.bandcamp.com","https://euonym.bandcamp.com","https://euphonic.bandcamp.com","https://evenfreaksaresweet.bandcamp.com","https://evolvor.bandcamp.com","https://exillon.bandcamp.com","https://expensive.bandcamp.com","https://extradrowsyformula.bandcamp.com","https://fairedusonrecordz.bandcamp.com","https://fakesensations.bandcamp.com","https://fbgang.bandcamp.com","https://feliperadicetti.bandcamp.com","https://feltdial.bandcamp.com","https://figthlikeapes.bandcamp.com","https://findafiend.bandcamp.com","https://firemist.bandcamp.com","https://floppyrecords.bandcamp.com","https://flufftronix.bandcamp.com","https://forrestday.bandcamp.com","https://forss.bandcamp.com","https://fourslicks.bandcamp.com","https://frohlocker.bandcamp.com","https://from.bandcamp.com","https://frozengentlemen.bandcamp.com","https://funkmario.bandcamp.com","https://furiousgeorge.bandcamp.com","https://futureapetapes.bandcamp.com","https://futurejazzproject.bandcamp.com","https://garek.bandcamp.com","https://gbsr.bandcamp.com","https://genisusproject.bandcamp.com","https://ghettometalgear.bandcamp.com","https://giggleparty.bandcamp.com","https://glenphillips.bandcamp.com","https://goapele.bandcamp.com","https://godot.bandcamp.com","https://grandcontainer.bandcamp.com","https://greenfoot.bandcamp.com","https://griddle.bandcamp.com","https://grindcurb.bandcamp.com","https://halfpastsun.bandcamp.com","https://happybirthdayamy.bandcamp.com","https://hauntedcandyshop.bandcamp.com","https://hellatighthats.bandcamp.com","https://hidromiel.bandcamp.com","https://highhearts.bandcamp.com","https://hillsandvalley.bandcamp.com","https://hitmetv.bandcamp.com","https://hokkaidos.bandcamp.com","https://hoxtonheroes.bandcamp.com","https://hoyexp.bandcamp.com","https://huck.bandcamp.com","https://humpjones.bandcamp.com","https://iamconsumed.bandcamp.com","https://iankoh.bandcamp.com","https://iansaylor.bandcamp.com","https://iceseadeadpeople.bandcamp.com","https://indiegenus.bandcamp.com","https://inheritthefall.bandcamp.com","https://jaaportit.bandcamp.com","https://jaiagnish.bandcamp.com","https://jamescombs.bandcamp.com","https://janedistortion.bandcamp.com","https://jasondamato.bandcamp.com","https://jcarrmusic.bandcamp.com","https://johnsmorto.bandcamp.com","https://joshpreston.bandcamp.com","https://joshuaarmstrong.bandcamp.com","https://jumpbackjake.bandcamp.com","https://justpippo.bandcamp.com","https://kaiserbilly.bandcamp.com","https://kaninkrusete.bandcamp.com","https://karhide.bandcamp.com","https://kasha.bandcamp.com","https://kashi.bandcamp.com","https://kayleclements.bandcamp.com","https://killaent.bandcamp.com","https://killermike.bandcamp.com","https://kurtlorenz.bandcamp.com","https://lapskin.bandcamp.com","https://latchkey.bandcamp.com","https://league510.bandcamp.com","https://leftdevices.bandcamp.com","https://leftwingconspiracy.bandcamp.com","https://leneko.bandcamp.com","https://leocavallo.bandcamp.com","https://lesblanks.bandcamp.com","https://letsgotoberlin.bandcamp.com","https://liarsclub.bandcamp.com","https://lightsdim.bandcamp.com","https://lightsoverbridgeport.bandcamp.com","https://lightwaverecords.bandcamp.com","https://lilprophet.bandcamp.com","https://littlebear.bandcamp.com","https://littlebirds.bandcamp.com","https://lmd64.bandcamp.com","https://loopcode.bandcamp.com","https://lorenerikdavie.bandcamp.com","https://lorenzosmusic.bandcamp.com","https://lorettalynch.bandcamp.com","https://lospocoslocos.bandcamp.com","https://losrakas.bandcamp.com","https://lostkid.bandcamp.com","https://lostwars.bandcamp.com","https://lousyrobot.bandcamp.com","https://lovelyday.bandcamp.com","https://lowclub.bandcamp.com","https://lpgmusic.bandcamp.com","https://lukebrindley.bandcamp.com","https://lunacyboard.bandcamp.com","https://lunat3.bandcamp.com","https://macdre.bandcamp.com","https://machinelovers.bandcamp.com","https://malakaibeats.bandcamp.com","https://maraakate.bandcamp.com","https://marcellocorreaecastro.bandcamp.com","https://marmadukedando.bandcamp.com","https://materialobject.bandcamp.com","https://matthewferry.bandcamp.com","https://mesmer.bandcamp.com","https://mftg.bandcamp.com","https://michellebeauchesne.bandcamp.com","https://milkytreat.bandcamp.com","https://milomclaughlin.bandcamp.com","https://minnesotasexjunkies.bandcamp.com","https://missmount.bandcamp.com","https://mistahfab.bandcamp.com","https://mmimusic.bandcamp.com","https://modernsleeping.bandcamp.com","https://mojunk.bandcamp.com","https://moongold.bandcamp.com","https://mooseka.bandcamp.com","https://morgonjuice.bandcamp.com","https://mormo.bandcamp.com","https://mortique.bandcamp.com","https://mrtunes.bandcamp.com","https://mthakathi.bandcamp.com","https://mudhorn.bandcamp.com","https://muzik4machines.bandcamp.com","https://myfirstearthquake.bandcamp.com","https://nach.bandcamp.com","https://nakedempire.bandcamp.com","https://nathangermick.bandcamp.com","https://nathanwademusic.bandcamp.com","https://nauticalmiles.bandcamp.com","https://neilruud.bandcamp.com","https://newcenturyclassics.bandcamp.com","https://nickshelton.bandcamp.com","https://nickthane.bandcamp.com","https://nicktingle.bandcamp.com","https://nicomuhly.bandcamp.com","https://nitrada.bandcamp.com","https://noease.bandcamp.com","https://noellehampton.bandcamp.com","https://noexit.bandcamp.com","https://nogamesinvolved.bandcamp.com","https://noisecandy.bandcamp.com","https://noka.bandcamp.com","https://notiq.bandcamp.com","https://nsmusic.bandcamp.com","https://numbersandletters.bandcamp.com","https://nxfxtxex.bandcamp.com","https://obct.bandcamp.com","https://ocbka.bandcamp.com","https://ocelots.bandcamp.com","https://ohioslide.bandcamp.com","https://oldman.bandcamp.com","https://onyxashanti.bandcamp.com","https://overheardbitch.bandcamp.com","https://pandatone.bandcamp.com","https://pankowjugend.bandcamp.com","https://paperwork.bandcamp.com","https://pastortroy.bandcamp.com","https://paulgraham.bandcamp.com","https://peel.bandcamp.com","https://pennydistribution.bandcamp.com","https://penston.bandcamp.com","https://permanentbastards.bandcamp.com","https://peterswimm.bandcamp.com","https://philomell.bandcamp.com","https://philosophyclub.bandcamp.com","https://plasticnudemartini.bandcamp.com","https://polarandpanda.bandcamp.com","https://polarstate.bandcamp.com","https://popheroes.bandcamp.com","https://prairiedogs.bandcamp.com","https://projetmu.bandcamp.com","https://quincy.bandcamp.com","https://radionowhere.bandcamp.com","https://ratio.bandcamp.com","https://richibauthym.bandcamp.com","https://rickhicks.bandcamp.com","https://rickreifenstein.bandcamp.com","https://ronaldjenkees.bandcamp.com","https://rootbug.bandcamp.com","https://rosewaterfalls.bandcamp.com","https://sakesalive.bandcamp.com","https://samamidon.bandcamp.com","https://santos.bandcamp.com","https://satellitedown.bandcamp.com","https://saviorfromthedeep.bandcamp.com","https://scotsnow.bandcamp.com","https://seams.bandcamp.com","https://seanmccue.bandcamp.com","https://seanyee.bandcamp.com","https://secondmeasure.bandcamp.com","https://secretmuslims.bandcamp.com","https://seeingsnow.bandcamp.com","https://sextosentido.bandcamp.com","https://shrood.bandcamp.com","https://shuutobi.bandcamp.com","https://signalswithoutsound.bandcamp.com","https://silenceissexy.bandcamp.com","https://sirhan.bandcamp.com","https://skerror.bandcamp.com","https://skinnydippers.bandcamp.com","https://skipintro.bandcamp.com","https://sleepytownmanufacture.bandcamp.com","https://smaharba.bandcamp.com","https://snakeeyes.bandcamp.com","https://solo.bandcamp.com","https://soulima.bandcamp.com","https://spaceshipcabaret.bandcamp.com","https://spencerday.bandcamp.com","https://starandmicey.bandcamp.com","https://startfires.bandcamp.com","https://stephanmoccio.bandcamp.com","https://stevencarey.bandcamp.com","https://steviemac.bandcamp.com","https://stinktank.bandcamp.com","https://stoney.bandcamp.com","https://strangepools.bandcamp.com","https://stretta.bandcamp.com","https://superextrabonusparty.bandcamp.com","https://susanmarshall.bandcamp.com","https://suspire.bandcamp.com","https://sweetcityaction.bandcamp.com","https://sxaormbjument.bandcamp.com","https://sydmusic.bandcamp.com","https://tandk.bandcamp.com","https://technicystfix.bandcamp.com","https://tedjames.bandcamp.com","https://tepeyacusto.bandcamp.com","https://terminalsoundsystem.bandcamp.com","https://terminus.bandcamp.com","https://tetrisnightmare.bandcamp.com","https://theacolytes.bandcamp.com","https://theantlers.bandcamp.com","https://theaveryset.bandcamp.com","https://thebaggins.bandcamp.com","https://thebaybridged.bandcamp.com","https://thecassettes.bandcamp.com","https://thecataracs.bandcamp.com","https://thecreams.bandcamp.com","https://thedecembersocial.bandcamp.com","https://thedetour.bandcamp.com","https://thefishermen.bandcamp.com","https://thefourhourfriends.bandcamp.com","https://thegreatescape.bandcamp.com","https://thegsgc.bandcamp.com","https://thehighwaygirl.bandcamp.com","https://thehooks.bandcamp.com","https://thejonesthing.bandcamp.com","https://thelayaways.bandcamp.com","https://thelocalcelebrities.bandcamp.com","https://themedics.bandcamp.com","https://themonolith.bandcamp.com","https://thenacho.bandcamp.com","https://thenewwholeusuals.bandcamp.com","https://theoutlanders.bandcamp.com","https://thepopproject.bandcamp.com","https://therogueandthewolf.bandcamp.com","https://thesheiladivine.bandcamp.com","https://thesift.bandcamp.com","https://theunsinkables.bandcamp.com","https://thevisiblemen.bandcamp.com","https://thinfevers.bandcamp.com","https://threefourteen.bandcamp.com","https://thurstonlavatube.bandcamp.com","https://tigersconqueso.bandcamp.com","https://toddmchatton.bandcamp.com","https://toddwellman.bandcamp.com","https://toromiro.bandcamp.com","https://townbizness.bandcamp.com","https://transept.bandcamp.com","https://tusk.bandcamp.com","https://twilightluggage.bandcamp.com","https://tzangms.bandcamp.com","https://udosson.bandcamp.com","https://ufordia.bandcamp.com","https://ugress.bandcamp.com","https://ultralash.bandcamp.com","https://umlautnerd.bandcamp.com","https://uncommonrecords.bandcamp.com","https://uniteddopefront.bandcamp.com","https://unitedsonsoftoil.bandcamp.com","https://valesway.bandcamp.com","https://valgeir.bandcamp.com","https://veraclique.bandcamp.com","https://vibesquad.bandcamp.com","https://violentjokes.bandcamp.com","https://virculum.bandcamp.com","https://vocalsakti.bandcamp.com","https://voge.bandcamp.com","https://vondu.bandcamp.com","https://voodooeconomics.bandcamp.com","https://wanavibras.bandcamp.com","https://wanderprata.bandcamp.com","https://warmdata.bandcamp.com","https://water.bandcamp.com","https://wearenorton.bandcamp.com","https://westbounddeparture.bandcamp.com","https://whitenight.bandcamp.com","https://whitesaucer.bandcamp.com","https://whittington.bandcamp.com","https://wickedgoodrecords.bandcamp.com","https://wickedsindicate.bandcamp.com","https://willstratton.bandcamp.com","https://winterdusk.bandcamp.com","https://wizkidsound.bandcamp.com","https://wldrf.bandcamp.com","https://worldsgreatestdad.bandcamp.com","https://xjnmusic.bandcamp.com","https://xylos.bandcamp.com","https://zagrebguitarquartet.bandcamp.com","https://zajj.bandcamp.com","https://zoosofberlin.bandcamp.com"]
const platforms = ["instagram.com", "facebook.com", "soundcloud.com"]

const fetchData = async (artistUrl) => {
  axios.get(artistUrl).then(response => {
  if (response.status === 200) {
    const $ = cheerio.load(response.data);
    
    let registeredPlatforms = '';
    for (let p = 0; p < platforms.length; p++) {
      const platform = platforms[p];
      let platformUrl = '';
      $('a[href]').each((index, element) => {
        const href = $(element).attr('href');
        if (href && href.includes(platform)) {
          platformUrl = href;
          return false; // Exit the loop
        }
      });

      if (platformUrl) {
        registeredPlatforms += `,${platformUrl}`
      } else {
        registeredPlatforms += `,NONE`
      }
    }

    console.log(`${artistUrl}${registeredPlatforms}`)
  }
}).catch(error => {
  console.log('Error fetching the webpage:', error.message);
});
}

(async () => {
    try {
        for (let u = 0; u < artistUrls.length; u++) {
          await fetchData(artistUrls[u])
        }
    } catch (e) {
        // Deal with the fact the chain failed
    }
    // `text` is not available here
})();
